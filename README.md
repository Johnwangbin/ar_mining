# ar_mining
mining the association rules of stocks
实时地更新关联规则.
如何按天实时更新关联规则,时间单位是天,即按天线分析.

表的设计
stocks_hist -->   new transaction

frequent_hist --> 按股票代码的顺序插入
所有项集内部按股票代码顺序排序,然后所有项集按首股票代码排序,然后跟据首股票代码建立索引表.
计算过的项集频数
[X1,X2,...Xn]:N1
[X1,X3,...]:N2
...
[X2,...Xn]:Nj
...
[X3,...Xn]
...
[Xn-1,...Xn]:Nn
...
索引表
{X1:l0, X2:l1,...Xn:ln}

当新的一天数据到来时,事务集中最迟一天的数据orgin_day由该天的数据today所取代,频繁项集也随之更新.频繁项集的频数随着事务集的改变增加或者减少.为了提升计算效率,将上一窗口计算统计过的项集的频数保存在文件中.那么新的项集频数的统计可以先扫描该表,如果出现过则使用该频数,然后根据新的项集是否出现在orgin_day或者today当中选择+1或者-1.如果项集的频率增加到高于支持度则成为新增的频繁项集.新增的频繁项集通过连接可以生成新的候选集,该候选集肯定在之前没有出现过,所以得采用扫描数据库的方式统计频数.
